{% import "_includes/forms" as forms %}

{{ forms.textField({
    label: "Access Key"|t('aliyun'),
    name: "accessKey",
    value: settings.accessKey,
    required: true
}) }}

{{ forms.passwordField({
    label: "Secret Key"|t('aliyun'),
    id: 'secretKey',
    name: "secretKey",
    value: settings.secretKey,
    required: true
}) }}

{{ forms.checkboxField({
    label: "Use environment variables storage {Access Key} and {Secret Key}"|t('aliyun', {
        'Access Key': '<b>' ~ 'Access Key'|t('aliyun') ~ '</b>',
        'Secret Key': '<b>' ~ 'Secret Key'|t('aliyun') ~ '</b>',
    }),
    name: "useDotEnv",
    checked: settings.useDotEnv,
}) }}

{% js %}
    $secretKeyInput = $('#settings-secretKey');
    new Craft.PasswordInput($secretKeyInput, {
        onToggleInput: $.proxy(function($newPasswordInput) {
            this.removeListener($secretKeyInput, 'textchange');
            $secretKeyInput = $newPasswordInput;
            this.addListener($secretKeyInput, 'textchange', 'validate');
        }, this)
    });
{% endjs %}